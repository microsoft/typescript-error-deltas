// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`main outputs server errors 1`] = `
[MockFunction] {
  "calls": [
    [
      "/mnt/q/Repos/typescript-error-deltas/ts_downloads/base/MockRepoOwner.MockRepoName.rawError.txt",
      "Req #123 - completionInfo
Some error. Could not do something. 
Maybe a Debug fail.
    at a (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:1:1)
    at b (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:2:2)
    at c (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:3:3)
    at d (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:4:4)
    at e (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:5:5)",
    ],
    [
      "/mnt/q/Repos/typescript-error-deltas/artifacts/718e48b799650d4b66e5d80ad6bac7b9.results.txt",
      "<h2>Maybe a Debug fail.</h2>

\`\`\`
Req #123 - completionInfo
    at a (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:1:1)
    at b (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:2:2)
    at c (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:3:3)
    at d (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:4:4)
    at e (/mnt/vss/_work/1/s/typescript-1.1.1/lib/typescript.js:5:5)
\`\`\`

<h4>Affected repos</h4>
<details>
<summary><a href="https://github.com/MockRepoOwner/MockRepoName">MockRepoOwner/MockRepoName</a></summary>
Raw error text: <code>artifacts/MockRepoOwner.MockRepoName.rawError.txt</code> in the <a href="PLACEHOLDER_ARTIFACT_FOLDER">artifact folder</a>
<h4>Last few requests</h4>

\`\`\`json
{"rootDirPlaceholder":"@PROJECT_ROOT@","serverArgs":["--disableAutomaticTypingAcquisition"]}
{"seq":1,"type":"request","command":"configure","arguments":{"preferences":{"disableLineTextInReferences":true,"includePackageJsonAutoImports":"auto","includeCompletionsForImportStatements":true,"includeCompletionsWithSnippetText":true,"includeAutomaticOptionalChainCompletions":true,"includeCompletionsWithInsertText":true,"includeCompletionsWithClassMemberSnippets":true,"allowIncompleteCompletions":true,"includeCompletionsForModuleExports":false},"watchOptions":{"excludeDirectories":["**/node_modules"]}}}
{"seq":2,"type":"request","command":"updateOpen","arguments":{"changedFiles":[],"closedFiles":[],"openFiles":[{"file":"@PROJECT_ROOT@/sample_repoName.config.js","projectRootPath":"@PROJECT_ROOT@"}]}}
{"seq":3,"type":"request","command":"completionInfo","arguments":{"file":"@PROJECT_ROOT@/src/sampleTsFile.ts","line":1,"offset":1,"includeExternalModuleExports":false,"triggerKind":1}}
\`\`\`

<h4>Repro steps</h4>
<ol>
<li><code>git clone https://github.com/MockRepoOwner/MockRepoName --recurse-submodules</code></li>
<li>In dir <code>MockRepoName</code>, run <code>git reset --hard 57b462387e88aa7e363af0daf867a5dc1e83a935</code></li>
<li><details><summary>Install packages (exact steps are below, but it might be easier to follow the repo readme)</summary><ol>
  <li>In dir <code>dirA</code>, run <code>npm --prefer-offline --no-audit --no-progress --legacy-peer-deps --ignore-scripts -q</code></li>
  <li>In dir <code>dirB/dirC</code>, run <code>npm --prefer-offline --no-audit --no-progress --legacy-peer-deps --ignore-scripts -q</code></li>
  <li>In dir <code>dirD/dirE/dirF</code>, run <code>npm --prefer-offline --no-audit --no-progress --legacy-peer-deps --ignore-scripts -q</code></li>
</ol></details>
<li>Back in the initial folder, download <code>artifacts/MockRepoOwner.MockRepoName.replay.txt</code> from the <a href="PLACEHOLDER_ARTIFACT_FOLDER">artifact folder</a></li>
<li><code>npm install --no-save @typescript/server-replay</code></li>
<li><code>npx tsreplay ./MockRepoName ./MockRepoOwner.MockRepoName.replay.txt path/to/tsserver.js</code></li>
<li><code>npx tsreplay --help</code> to learn about helpful switches for debugging, logging, etc</li>
</ol>
</details>
",
      {
        "encoding": "utf-8",
      },
    ],
    [
      "/mnt/q/Repos/typescript-error-deltas/artifacts/metadata.json",
      "{"newTsResolvedVersion":"1.1.1","oldTsResolvedVersion":"0.0.0","statusCounts":{"Detected interesting changes":1}}",
      {
        "encoding": "utf-8",
      },
    ],
  ],
  "results": [
    {
      "type": "return",
      "value": undefined,
    },
    {
      "type": "return",
      "value": undefined,
    },
    {
      "type": "return",
      "value": undefined,
    },
  ],
}
`;
